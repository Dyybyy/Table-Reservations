<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Form</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.7);
        }
        .modal-content {
            position: relative;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .modal-content h2 {
            margin: 0 0 20px;
            color: #28a745;
        }
        .modal-content p {
            margin: 0 0 20px;
            color: #6c757d;
        }
        .modal-content button {
            padding: 10px 20px;
            background-color: #28a745;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .modal-content button:hover {
            background-color: #218838;
        }
        .reservation-note {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
            padding: 10px;
            margin-bottom: 20px;
            border-radius: 5px;
        }
        .reservation-note p {
            margin: 0;
        }
    </style>
</head>
<body>
    <section>
        <div class="container">
            <div class="contactInfo">
                <div>
                    <h2>Contact Info</h2>
                    <ul class="info">
                        <li>
                            <span><img src="img/location.png" alt="Location Icon"></span>
                            <span>
                                Sulaymaniyah<br>
                                Aqare<br>
                            </span>
                        </li>
                        <li>
                            <span><img src="img/mail.png" alt="Mail Icon"></span>
                            <span>Netcafe@gmail.com</span>
                        </li>
                        <li>
                            <span><img src="img/call.png" alt="Call Icon"></span>
                            <span>07708920909</span>
                        </li>
                    </ul>
                </div>
                <ul class="socialIcon">
                    <li><a href="https://www.facebook.com/amnasurakanetcafe/"><img src="img/1.png" alt="Facebook Icon"></a></li>
                    <li><a href="https://www.instagram.com/net_cafe.amna_suraka/?hl=en"><img src="img/3.png" alt="Instagram Icon"></a></li>
                </ul>
            </div>

            <div class="contactForm">
                <h2>Table Reservations</h2>
                
                <div class="reservation-note">
                    <p><strong>Note:</strong> All reservations end at 8:00 PM.</p>
                </div>
                
                <form>
                    <div class="formBox">
                        <div class="inputBox w50">
                            <input type="text" name="firstName" id="firstName" required>
                            <span>First Name</span>
                        </div>
                        <div class="inputBox w50">
                            <input type="text" name="lastName" id="lastName" required>
                            <span>Last Name</span>
                        </div>
                        <div class="inputBox w50">
                            <input type="email" name="email" id="email" required>
                            <span>Email</span>
                        </div>
                        <div class="inputBox w50">
                            <input type="tel" name="mobileNumber" id="mobileNumber" required>
                            <span>Mobile Number</span>
                        </div>
                        <div class="inputBox w50">
                            <input type="number" name="peopleCount" id="peopleCount" min="1" max="20" required>
                            <span>How many people</span>
                        </div>
                        <div class="inputBox w50">
                            <input type="date" name="date" id="date" required>
                            <span>Date</span>
                        </div>
                        <div class="inputBox w50">
                            <input type="time" name="time" id="time" required>
                            <span>Time</span>
                        </div>
                        <div class="inputBox w100">
                            <textarea name="message" id="message" required></textarea>
                            <span>Write Your Message Here.</span>
                        </div>
                        <div class="inputBox w100">
                            <input type="submit" value="Submit">
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <div id="modal" class="modal">
        <div class="modal-content">
            <h2 id="modal-message"></h2>
            <p>Thank you for your reservation. We look forward to serving you!</p>
            <button onclick="closeModal()">Close</button>
        </div>
    </div>

    <script type="text/javascript" src="https://cdn.emailjs.com/dist/email.min.js"></script>
    <script type="text/javascript">
        (function(){
            emailjs.init("7BYzg_CUnCpuaxYDm"); 
        })();

        document.addEventListener('DOMContentLoaded', function () {
            const form = document.querySelector('form');
            form.addEventListener('submit', function (event) {
                event.preventDefault();

                var formData = {
                    firstName: form.querySelector('input[name="firstName"]').value,
                    lastName: form.querySelector('input[name="lastName"]').value,
                    email: form.querySelector('input[name="email"]').value,
                    mobileNumber: form.querySelector('input[name="mobileNumber"]').value,
                    peopleCount: form.querySelector('input[name="peopleCount"]').value,
                    date: form.querySelector('input[name="date"]').value,
                    time: form.querySelector('input[name="time"]').value,
                    message: form.querySelector('textarea').value
                };

                emailjs.send('service_yzf0i0q', 'template_91dte9w', formData)
                    .then(function (response) {
                        showModal('Your message has been sent successfully!');
                        clearForm(form);
                    }, function (error) {
                        showModal('Failed to send your message. Please try again.');
                    });
            });
        });

        function showModal(message) {
            document.getElementById('modal-message').textContent = message;
            document.getElementById('modal').style.display = 'block';
        }

        function closeModal() {
            document.getElementById('modal').style.display = 'none';
        }

        function clearForm(form) {
            form.reset();
            // Clear any custom styling or classes that might have been added
            form.querySelectorAll('input, textarea').forEach(function(element) {
                element.classList.remove('filled');
                element.nextElementSibling.classList.remove('filled');
            });
        }
    </script>
</body>
</html>